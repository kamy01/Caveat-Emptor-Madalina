<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
	<p:layout style="width:100%;height:600px;">
	
	 <p:layoutUnit position="west" resizable="true" size="350">
        
<div id="treeDiv">
	<h:form class="tree-form" id="tree-form">
		<p:tree value="#{treeBean.root}" var="node"
			selectionMode="single" selection="#{treeBean.selectedNode}"
			id="tree">
			<p:ajax event="select" listener="#{contentCategory.onNodeSelect}"
				update=":tabView:frmContent" />
			<p:treeNode>
				<h:outputText value="#{node.getNameCategory()}" />
			</p:treeNode>
		</p:tree>
	</h:form>
</div>	
</p:layoutUnit>

  <p:layoutUnit position="center">
<!-- 	<br/> -->
		<h:form id="frmContent" style="padding-left:15px;">
		<p:growl id="message" showDetail="true" />
	
		<h:panelGroup id="categories-page" >
		<br/>
			<p:commandButton value="Create New Category" id="resetValuesBtn" disabled="#{contentCategory.disableInsertButton}">
					<p:ajax listener="#{contentCategory.resetValues}"
						update="tabView:frmContent :tabView:tree-form:tree" process="@form"></p:ajax>
				</p:commandButton>
				<br/><br/>
			
				<p:inputText label="nameCategory" placeholder="Name" value="#{contentCategory.categoriesDto.nameCategory}" readonly="#{contentCategory.readOnly}"></p:inputText>
				<br/>
				<p:inputTextarea rows="10" cols="50" placeholder="Description"
					value="#{contentCategory.categoriesDto.description}" readonly="#{contentCategory.readOnly}"></p:inputTextarea>
				<br/>
				<p:commandButton value="Update" id="updateBtn"  disabled="#{contentCategory.disableButtonUpdateOrDelete}">
					<p:ajax listener="#{contentCategory.updateCategory}"
						update="tabView:frmContent :tabView:tree-form:tree" process="@form"></p:ajax>
				</p:commandButton>
				<p:commandButton value="Remove" id="removeBtn" disabled="#{contentCategory.disableButtonUpdateOrDelete}">
					<p:ajax listener="#{contentCategory.removeCategory}" 
						update=":tabView:frmContent :tabView:tree-form:tree" process="@form"></p:ajax>
				</p:commandButton>
					
			
			
			<br/><br/>
		
		
			<p:commandButton icon="ui-icon-check" rendered="#{contentCategory.renderedButtonUpdateOrDelete}">
						<p:ajax listener="#{contentCategory.update}" 
						update=":tabView:frmContent :tabView:tree-form:tree" process="@form">
					</p:ajax>
					
			</p:commandButton>
			<br/>
			<p:commandButton render="@all" icon="ui-icon-check" rendered="#{contentCategory.renderedInsert}">
						<p:ajax listener="#{contentCategory.insert}" 
						update=":tabView:frmContent :tabView:tree-form:tree" process="@form">
					</p:ajax>				
			</p:commandButton>
		
		<br/>
			<p:commandButton icon="ui-icon-closethick" rendered="#{contentCategory.renderedButtonUpdateOrDelete}">
			<p:ajax listener="#{contentCategory.cancelUpdate}" 
						update=":tabView:frmContent :tabView:tree-form:tree" process="@form">
						
						</p:ajax>
			</p:commandButton>
			
			<p:commandButton  icon="ui-icon-closethick" rendered="#{contentCategory.renderedInsert}">
			<p:ajax listener="#{contentCategory.cancelInsert}" 
						update=":tabView:frmContent :tabView:tree-form:tree" process="@form">
						
						</p:ajax>
			</p:commandButton>
		
		</h:panelGroup>
	</h:form>

	</p:layoutUnit>
	<p:layoutUnit  position="south">
	
	</p:layoutUnit>
	</p:layout>
</ui:composition>